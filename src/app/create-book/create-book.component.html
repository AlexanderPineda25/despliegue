<div class="d-flex justify-content-center align-items-center vh-100">
  <div class="card w-75">
    <div class="card-header">
      <h4>Formulario libro</h4>
    </div>
    <div class="card-body">
      <form [formGroup]="formBook" (ngSubmit)="edit ? updateBook() : createBook()">

        <div class="mb-3">
          <label for="title" class="form-label">Título</label>
          <input type="text" class="form-control" id="title" formControlName="title">
          <div *ngIf="formBook.get('title')?.invalid && formBook.get('title')?.touched" class="text-danger">
            El título es obligatorio y debe tener al menos 3 caracteres.
          </div>
        </div>

        <div class="mb-3">
          <label for="author" class="form-label">Autor</label>
          <input type="text" class="form-control" id="author" formControlName="author">
          <div *ngIf="formBook.get('author')?.invalid && formBook.get('author')?.touched" class="text-danger">
            El autor es obligatorio y debe tener al menos 3 caracteres.
          </div>
        </div>

        <div class="mb-3">
          <label for="publicationDate" class="form-label">Fecha de Publicación</label>
          <input type="date" class="form-control" id="publicationDate" formControlName="publicationDate">
          <div *ngIf="formBook.get('publicationDate')?.invalid && formBook.get('publicationDate')?.touched"
            class="text-danger">
            La fecha de publicación es obligatoria.
          </div>
        </div>

        <div class="mb-3">
          <label for="description" class="form-label">Descripción</label>
          <textarea class="form-control" id="description" formControlName="description" rows="3"></textarea>
          <div *ngIf="formBook.get('description')?.invalid && formBook.get('description')?.touched" class="text-danger">
            La descripción es obligatoria y debe tener al menos 10 caracteres.
          </div>
        </div>

        <div class="mb-3">
          <label for="image" class="form-label">{{ edit ? 'Cambiar imagen' : 'Seleccionar imagen' }}</label>
          <input type="file" class="form-control" id="image"
            (change)="edit ? changeImage($event) : onImageSelected($event)" accept="image/*">
          <div *ngIf="formBook.get('image')?.invalid && formBook.get('image')?.touched" class="text-danger">
            La imagen es obligatoria.
          </div>
        </div>

        <div class="mb-3">
          <label for="file" class="form-label">{{ edit ? 'Cambiar archivo PDF' : 'Seleccionar archivo PDF' }}</label>
          <input type="file" class="form-control" id="file" (change)="onFileSelected($event)" accept="application/pdf">
          <div *ngIf="!selectedFile && formBook.get('file')?.touched" class="text-danger">
            El archivo PDF es obligatorio.
          </div>
        </div>

        <div class="d-flex justify-content-end">
          <button class="btn btn-primary" type="submit">
            <span *ngIf="isSaveInProgress" class="spinner-border spinner-border-sm" role="status"
              aria-hidden="true"></span>
            Guardar
          </button>
        </div>

      </form>
    </div>
  </div>
</div>